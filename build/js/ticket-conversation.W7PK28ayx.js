/*! For license information please see ticket-conversation.W7PK28ayx.js.LICENSE.txt */
(()=>{var e={8970:(e,t,n)=>{"use strict";n.r(t)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n(8970);const e=PRHelper.getHTML(),t=PRHelper.getHook(),r=PRHelper.getRequest(),o=PRHelper.getSetting();function i(e){e&&(e.scrollTop=e.scrollHeight-e.clientHeight)}t.on("DOMContentLoaded",(function(){let n=e.getElement(".pr-ticket-conversation-list");i(n),t.on("submit",(function(t,l){t.preventDefault();let s=e.getElement("button[type=submit]",l);e.setElementActivity(s),r.ajax(o.getOption("ajax.submit_request")).onSuccess((t=>{n&&(e.getElement(".pr-ticket-conversation-empty",n)?e.replace(t,n):e.append(t,n),i(n)),PRBackendHelper.getForm().getEditor("request").setContent("")})).onError((e=>{PRBackendHelper.getModal().show({content:e,type:"warning"})})).onFinally((()=>{e.setElementActivity(s,!0)})).addNonce().send({text:PRBackendHelper.getForm().getEditorContent("request"),ticket_id:PRHelper.getServer().getParam("id")})}),"form#ticket_request")}))})()})();