/*! For license information please see collection.Ff-5-CaHs.js.LICENSE.txt */
(()=>{var t={9526:()=>{!function(t){"use strict";var e=function(t){return t},n=function(e){return t.isArray(e)},i=function(t){return!n(t)&&t instanceof Object},r=function(e,n){return t.inArray(n,e)},a=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},u=function(t){return t[t.length-1]},c=function(t){return Array.prototype.slice.call(t)},o=function(t,e,i){return n(t)?function(t,e){var n=[];return a(t,(function(t,i,r){n.push(e(t,i,r))})),n}(t,e):function(t,e,n){var i={};return a(t,(function(t,r,a){r=n?n(r,t):r,i[r]=e(t,r,a)})),i}(t,e,i)},l=function(t,e,n){return o(t,(function(t,i){return t[e].apply(t,n||[])}))};!function(t){var e=function(t,e){var n,i,u,c=(i={},(n=n||{}).publish=function(t,e){a(i[t],(function(t){t(e)}))},n.subscribe=function(t,e){i[t]=i[t]||[],i[t].push(e)},n.unsubscribe=function(t){a(i,(function(e){var n=r(e,t);-1!==n&&e.splice(n,1)}))},n),o=t.$;return c.getType=function(){throw'implement me (return type. "text", "radio", etc.)'},c.$=function(t){return t?o.find(t):o},c.disable=function(){c.$().prop("disabled",!0),c.publish("isEnabled",!1)},c.enable=function(){c.$().prop("disabled",!1),c.publish("isEnabled",!0)},e.equalTo=function(t,e){return t===e},e.publishChange=function(t,n){var i=c.get();e.equalTo(i,u)||c.publish("change",{e:t,domElement:n}),u=i},c},c=function(t,n){var i=e(t,n);return i.get=function(){return i.$().val()},i.set=function(t){i.$().val(t)},i.clear=function(){i.set("")},n.buildSetter=function(t){return function(e){t.call(i,e)}},i},o=function(t,e){t=n(t)?t:[t],e=n(e)?e:[e];var i=!0;return t.length!==e.length?i=!1:a(t,(function(t){(function(t,e){return-1!==r(t,e)})(e,t)||(i=!1)})),i},f=function(t){var e={},n=c(t,e);return n.getType=function(){return"button"},n.$().on("change",(function(t){e.publishChange(t,this)})),n},s=function(e){var i={},r=c(e,i);return r.getType=function(){return"checkbox"},r.get=function(){var e=[];return r.$().filter(":checked").each((function(){e.push(t(this).val())})),e},r.set=function(e){e=n(e)?e:[e],r.$().each((function(){t(this).prop("checked",!1)})),a(e,(function(t){r.$().filter('[value="'+t+'"]').prop("checked",!0)}))},i.equalTo=o,r.$().change((function(t){i.publishChange(t,this)})),r},p=function(t){var e=k(t,{});return e.getType=function(){return"email"},e},h=function(n){var i={},r=e(n,i);return r.getType=function(){return"file"},r.get=function(){return u(r.$().val().split("\\"))},r.clear=function(){this.$().each((function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()}))},r.$().change((function(t){i.publishChange(t,this)})),r},d=function(t){var e={},n=c(t,e);return n.getType=function(){return"hidden"},n.$().change((function(t){e.publishChange(t,this)})),n},m=function(n){var i={},r=e(n,i);return r.getType=function(){return"file[multiple]"},r.get=function(){var t,e=r.$().get(0).files||[],n=[];for(t=0;t<(e.length||0);t+=1)n.push(e[t].name);return n},r.clear=function(){this.$().each((function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()}))},r.$().change((function(t){i.publishChange(t,this)})),r},v=function(t){var e={},i=c(t,e);return i.getType=function(){return"select[multiple]"},i.get=function(){return i.$().val()||[]},i.set=function(t){i.$().val(""===t?[]:n(t)?t:[t])},e.equalTo=o,i.$().change((function(t){e.publishChange(t,this)})),i},g=function(t){var e=k(t,{});return e.getType=function(){return"password"},e},y=function(e){var n={},i=c(e,n);return i.getType=function(){return"radio"},i.get=function(){return i.$().filter(":checked").val()||null},i.set=function(e){e?i.$().filter('[value="'+e+'"]').prop("checked",!0):i.$().each((function(){t(this).prop("checked",!1)}))},i.$().change((function(t){n.publishChange(t,this)})),i},b=function(t){var e={},n=c(t,e);return n.getType=function(){return"range"},n.$().change((function(t){e.publishChange(t,this)})),n},$=function(t){var e={},n=c(t,e);return n.getType=function(){return"select"},n.$().change((function(t){e.publishChange(t,this)})),n},k=function(t){var e={},n=c(t,e);return n.getType=function(){return"text"},n.$().on("change keyup keydown",(function(t){e.publishChange(t,this)})),n},x=function(t){var e={},n=c(t,e);return n.getType=function(){return"textarea"},n.$().on("change keyup keydown",(function(t){e.publishChange(t,this)})),n},P=function(t){var e=k(t,{});return e.getType=function(){return"url"},e},w=function(e){var n={},u=e.$,c=e.constructorOverride||{button:f,text:k,url:P,email:p,password:g,range:b,textarea:x,select:$,"select[multiple]":v,radio:y,checkbox:s,file:h,"file[multiple]":m,hidden:d},o=function(e,r){(i(r)?r:u.find(r)).each((function(){var i=t(this).attr("name");n[i]=c[e]({$:t(this)})}))},l=function(e,o){var l=[],f=i(o)?o:u.find(o);i(o)?n[f.attr("name")]=c[e]({$:f}):(f.each((function(){-1===r(l,t(this).attr("name"))&&l.push(t(this).attr("name"))})),a(l,(function(t){n[t]=c[e]({$:u.find('input[name="'+t+'"]')})})))};return u.is("input, select, textarea")?u.is('input[type="button"], button, input[type="submit"]')?o("button",u):u.is("textarea")?o("textarea",u):u.is('input[type="text"]')||u.is("input")&&!u.attr("type")?o("text",u):u.is('input[type="password"]')?o("password",u):u.is('input[type="email"]')?o("email",u):u.is('input[type="url"]')?o("url",u):u.is('input[type="range"]')?o("range",u):u.is("select")?u.is("[multiple]")?o("select[multiple]",u):o("select",u):u.is('input[type="file"]')?u.is("[multiple]")?o("file[multiple]",u):o("file",u):u.is('input[type="hidden"]')?o("hidden",u):u.is('input[type="radio"]')?l("radio",u):u.is('input[type="checkbox"]')?l("checkbox",u):o("text",u):(o("button",'input[type="button"], button, input[type="submit"]'),o("text",'input[type="text"]'),o("password",'input[type="password"]'),o("email",'input[type="email"]'),o("url",'input[type="url"]'),o("range",'input[type="range"]'),o("textarea","textarea"),o("select","select:not([multiple])"),o("select[multiple]","select[multiple]"),o("file",'input[type="file"]:not([multiple])'),o("file[multiple]",'input[type="file"][multiple]'),o("hidden",'input[type="hidden"]'),l("radio",'input[type="radio"]'),l("checkbox",'input[type="checkbox"]')),n};t.fn.inputVal=function(e){var n=t(this),i=w({$:n});return n.is("input, textarea, select")?void 0===e?i[n.attr("name")].get():(i[n.attr("name")].set(e),n):void 0===e?l(i,"get"):(a(e,(function(t,e){i[e].set(t)})),n)},t.fn.inputOnChange=function(e){var n=t(this),i=w({$:n});return a(i,(function(t){t.subscribe("change",(function(t){e.call(t.domElement,t.e)}))})),n},t.fn.inputDisable=function(){var e=t(this);return l(w({$:e}),"disable"),e},t.fn.inputEnable=function(){var e=t(this);return l(w({$:e}),"enable"),e},t.fn.inputClear=function(){var e=t(this);return l(w({$:e}),"clear"),e}}(jQuery),t.fn.repeaterVal=function(){var e,n,i=function(t){if(1===t.length&&(0===t[0].key.length||1===t[0].key.length&&!t[0].key[0]))return t[0].val;a(t,(function(t){t.head=t.key.shift()}));var e,n=function(){var e={};return a(t,(function(t){e[t.head]||(e[t.head]=[]),e[t.head].push(t)})),e}();return/^[0-9]+$/.test(t[0].head)?(e=[],a(n,(function(t){e.push(i(t))}))):(e={},a(n,(function(t,n){e[n]=i(t)}))),e};return i((e=t(this).inputVal(),n=[],a(e,(function(t,e){var i=[];"undefined"!==e&&(i.push(e.match(/^[^\[]*/)[0]),i=i.concat(o(e.match(/\[[^\]]*\]/g),(function(t){return t.replace(/[\[\]]/g,"")}))),n.push({val:t,key:i}))})),n))},t.fn.repeater=function(i){var r;return i=i||{},t(this).each((function(){var l=t(this),f=i.show||function(){t(this).show()},s=i.hide||function(t){t()},p=l.find("[data-repeater-list]").first(),h=function(e,n){return e.filter((function(){return!n||0===t(this).closest((e=n,i="selector",o(e,(function(t){return t[i]}))).join(",")).length;var e,i}))},d=function(){return h(p.find("[data-repeater-item]"),i.repeaters)},m=p.find("[data-repeater-item]").first().clone().hide(),v=h(h(t(this).find("[data-repeater-item]"),i.repeaters).first().find("[data-repeater-delete]"),i.repeaters);i.isFirstItemUndeletable&&v&&v.remove();var g=function(){var t=p.data("repeater-list");return i.$parent?i.$parent.data("item-name")+"["+t+"]":t},y=function(e){i.repeaters&&e.each((function(){var e=t(this);a(i.repeaters,(function(t){e.find(t.selector).repeater(function(){var t={};return a(c(arguments),(function(e){a(e,(function(e,n){t[n]=e}))})),t}(t,{$parent:e}))}))}))},b=function(t,e,n){t&&a(t,(function(t){n.call(e.find(t.selector)[0],t)}))},$=function(e,n,i){e.each((function(e){var r=t(this);r.data("item-name",n+"["+e+"]"),h(r.find("[name]"),i).each((function(){var a=t(this),c=a.attr("name").match(/\[[^\]]+\]/g),o=c?u(c).replace(/\[|\]/g,""):a.attr("name"),l=n+"["+e+"]["+o+"]"+(a.is(":checkbox")||a.attr("multiple")?"[]":"");a.attr("name",l),b(i,r,(function(i){var r=t(this);$(h(r.find("[data-repeater-item]"),i.repeaters||[]),n+"["+e+"]["+r.find("[data-repeater-list]").first().data("repeater-list")+"]",i.repeaters)}))}))})),p.find("input[name][checked]").removeAttr("checked").prop("checked",!0)};$(d(),g(),i.repeaters),y(d()),i.initEmpty&&d().remove(),i.ready&&i.ready((function(){$(d(),g(),i.repeaters)}));var k,x=(k=function(r,u,c){if(u||i.defaultValues){var l={};h(r.find("[name]"),c).each((function(){var e=t(this).attr("name").match(/\[([^\]]*)(\]|\]\[\])$/)[1];l[e]=t(this).attr("name")})),r.inputVal(o((f=u||i.defaultValues,s=function(t,e){return l[e]},n(f)?(p=[],a(f,(function(t,e,n){s(t,e,n)&&p.push(t)}))):(p={},a(f,(function(t,e,n){s(t,e,n)&&(p[e]=t)}))),p),e,(function(t){return l[t]})))}var f,s,p;b(c,r,(function(e){var n=t(this);h(n.find("[data-repeater-item]"),e.repeaters).each((function(){var i=n.find("[data-repeater-list]").data("repeater-list");if(u&&u[i]){var r=t(this).clone();n.find("[data-repeater-item]").remove(),a(u[i],(function(t){var i=r.clone();k(i,t,e.repeaters||[]),n.find("[data-repeater-list]").append(i)}))}else k(t(this),e.defaultValues,e.repeaters||[])}))}))},function(e,n){p.append(e),$(d(),g(),i.repeaters),e.find("[name]").each((function(){t(this).inputClear()})),k(e,n||i.defaultValues,i.repeaters)}),P=function(t){var e=m.clone();x(e,t),i.repeaters&&y(e),f.call(e.get(0))};r=function(t){d().remove(),a(t,P)},h(l.find("[data-repeater-create]"),i.repeaters).click((function(){P()})),p.on("click","[data-repeater-delete]",(function(){var e=t(this).closest("[data-repeater-item]").get(0);s.call(e,(function(){t(e).remove(),$(d(),g(),i.repeaters)}))}))})),this.setList=r,this}}(jQuery)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=jQuery;var e=n.n(t);n(9526);e()(document).ready((function(){let t=e()(".form-collection");if(!PMPRUtil.isEmpty(t)){function n(t,e){if(t){let t=e.find("button[data-repeater-delete]:first");PMPRUtil.changeElementDisability(t,!0)}}t.each(((t,i)=>{let r=e()(i);if(!PMPRUtil.isEmpty(r)){let t=r.find("[data-repeater-clear]");PMPRUtil.isEmpty(t)||t.on("click",(()=>{let t=r.find("select, input, textarea");t.val("").trigger("change"),PMPRTrigger.doAction("collection_fields_reseted",t,r)}));let i=r.find("[data-repeater-list]");if(!PMPRUtil.isEmpty(i)){let t=i.data("first-undeletable")||!0,a=r.repeater({initEmpty:i.data("init-empty")||!1,defaultValues:i.data("default-values")||{},isFirstItemUndeletable:!1,show:function(){let a=e()(this),u=!0,c=a.index();if(c>0){let t=PMPRUtil.get(a.parent().children(),c-1);PMPRUtil.isEmpty(t)||e()(t).find("select").each(((t,n)=>{let i=e()(n);if(PMPRUtil.isEmpty(i.val()))return u=!1,!1}))}u?(a.slideDown(),n(t,i),PMPRTrigger.doAction("collection_field_added",a,r)):(a.remove(),console.log("can not add new row, before populate current row fields"))},hide:function(a){let u=e()(this);t&&u.is(":first-child")||(u.slideUp(a),n(t,i),PMPRTrigger.doAction("collection_field_removed",u,r))},ready:function(e){n(t,i)}}),u=i.data("require");u&&(a.setList(u),i.find(".form-row").each(((t,n)=>{let i=e()(n);i.addClass("blocked"),PMPRUtil.changeElementDisability(i.find("select"),!0)})));let c=i.data("values");c&&a.setList(c)}}}))}}))})()})();