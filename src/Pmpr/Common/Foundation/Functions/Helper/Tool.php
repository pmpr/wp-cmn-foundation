<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             68975023cc0a7             |
    |_______________________________________|
*/
 namespace Pmpr\Common\Foundation\Functions\Helper; use Pmpr\Common\Foundation\Interfaces\Constants; use WP_Error; class Tool extends Common { public function iyiccksyewqymmqg($sogksuscggsicmac, $gwmokccqwwksmwye) : bool { $ymiyawysimukkoso = $sogksuscggsicmac[Constants::ycuusiweasqygwiw] ?? []; return (int) ($ymiyawysimukkoso[Constants::yusuiaeueqwieqqq] ?? 1) <= (int) $gwmokccqwwksmwye; } public function mail(?string $acuayeeoiwokyomo, ?string $iosuwkkwwioumeqg, ?string $uamcoiueqaamsqma, array $aieaqakyuyewkkwe = [], array $uykgysuswksgmwqy = []) { if ($this->caokeucsksukesyo()->gyecsegqciqykomu()->qmyusgwkaqieouwi($uamcoiueqaamsqma)) { $uykgysuswksgmwqy[] = 'Content-Type: text/html; charset=UTF-8'; } $iosuwkkwwioumeqg = $this->caokeucsksukesyo()->mmsykuomogaqoaye()->ocksiywmkyaqseou('pr_mail_subject', $iosuwkkwwioumeqg); $uamcoiueqaamsqma = $this->caokeucsksukesyo()->mmsykuomogaqoaye()->ocksiywmkyaqseou('pr_mail_message', $uamcoiueqaamsqma); return $this->uwkmaywceaaaigwo()->asgqmkcukouykiie()->mail($acuayeeoiwokyomo, $iosuwkkwwioumeqg, $uamcoiueqaamsqma, $uykgysuswksgmwqy, $aieaqakyuyewkkwe); } public function memykcwggwgemgwm($ywaemymoecyieequ, $uqgmsgkquigyckug, $eqgoocgaqwqcimie) : array { $cqcuwemuusesmqsq = $eqgoocgaqwqcimie * $uqgmsgkquigyckug; $iegmsyuiekaayqqy = $cqcuwemuusesmqsq * (1 - abs(fmod($ywaemymoecyieequ / 60.0, 2) - 1)); $gcisockiummsmcag = $eqgoocgaqwqcimie - $cqcuwemuusesmqsq; if ($ywaemymoecyieequ < 60) { $eqiiwaeiswqmusqm = $cqcuwemuusesmqsq; $iemwuweegooaeuuq = $iegmsyuiekaayqqy; $csougakqegqiqsgi = 0; } elseif ($ywaemymoecyieequ < 120) { $eqiiwaeiswqmusqm = $iegmsyuiekaayqqy; $iemwuweegooaeuuq = $cqcuwemuusesmqsq; $csougakqegqiqsgi = 0; } elseif ($ywaemymoecyieequ < 180) { $eqiiwaeiswqmusqm = 0; $iemwuweegooaeuuq = $cqcuwemuusesmqsq; $csougakqegqiqsgi = $iegmsyuiekaayqqy; } elseif ($ywaemymoecyieequ < 240) { $eqiiwaeiswqmusqm = 0; $iemwuweegooaeuuq = $iegmsyuiekaayqqy; $csougakqegqiqsgi = $cqcuwemuusesmqsq; } elseif ($ywaemymoecyieequ < 300) { $eqiiwaeiswqmusqm = $iegmsyuiekaayqqy; $iemwuweegooaeuuq = 0; $csougakqegqiqsgi = $cqcuwemuusesmqsq; } else { $eqiiwaeiswqmusqm = $cqcuwemuusesmqsq; $iemwuweegooaeuuq = 0; $csougakqegqiqsgi = $iegmsyuiekaayqqy; } return [round(($eqiiwaeiswqmusqm + $gcisockiummsmcag) * 255), round(($iemwuweegooaeuuq + $gcisockiummsmcag) * 255), round(($csougakqegqiqsgi + $gcisockiummsmcag) * 255)]; } public function amaougmioswaqcsq($ywaemymoecyieequ, $uqgmsgkquigyckug, $eqgoocgaqwqcimie) : string { [$eqiiwaeiswqmusqm, $iemwuweegooaeuuq, $csougakqegqiqsgi] = $this->memykcwggwgemgwm($ywaemymoecyieequ, $uqgmsgkquigyckug, $eqgoocgaqwqcimie); return sprintf("#%02x%02x%02x", $eqiiwaeiswqmusqm, $iemwuweegooaeuuq, $csougakqegqiqsgi); } public function eisowuessmecemmc($qoiwmokisgikggia) : array { $qoiwmokisgikggia = str_replace('#', '', $qoiwmokisgikggia ?? '000'); $qoiwmokisgikggia = preg_replace('~^(.)(.)(.)$~', '$1$1$2$2$3$3', $qoiwmokisgikggia); $miqsmqgygmsosouu = []; $miqsmqgygmsosouu['R'] = hexdec($qoiwmokisgikggia[0] . $qoiwmokisgikggia[1]); $miqsmqgygmsosouu['G'] = hexdec($qoiwmokisgikggia[2] . $qoiwmokisgikggia[3]); $miqsmqgygmsosouu['B'] = hexdec($qoiwmokisgikggia[4] . $qoiwmokisgikggia[5]); return $miqsmqgygmsosouu; } public function yaceeeusowwkqqoe($qoiwmokisgikggia, int $gewagwuumumiqagq = 30) : string { $woaeeewomgcuesaa = $this->eisowuessmecemmc($qoiwmokisgikggia); $qoiwmokisgikggia = '#'; foreach ($woaeeewomgcuesaa as $wgywewwaswowuooi => $mokouoooiwsmcmiu) { $smowyuyseuwiaiei = $mokouoooiwsmcmiu / 100; $smowyuyseuwiaiei = round($smowyuyseuwiaiei * $gewagwuumumiqagq); $mqokkqcioaiwqkyi = $mokouoooiwsmcmiu - $smowyuyseuwiaiei; $sqsqeescyauykqqs = dechex($mqokkqcioaiwqkyi); if (strlen($sqsqeescyauykqqs) < 2) { $sqsqeescyauykqqs = '0' . $sqsqeescyauykqqs; } $qoiwmokisgikggia .= $sqsqeescyauykqqs; } return $qoiwmokisgikggia; } public function muqkkiwkcsgwuoca($qoiwmokisgikggia, int $gewagwuumumiqagq = 30) : string { $woaeeewomgcuesaa = $this->eisowuessmecemmc($qoiwmokisgikggia); $qoiwmokisgikggia = '#'; foreach ($woaeeewomgcuesaa as $wgywewwaswowuooi => $mokouoooiwsmcmiu) { $smowyuyseuwiaiei = 255 - $mokouoooiwsmcmiu; $smowyuyseuwiaiei /= 100; $smowyuyseuwiaiei = round($smowyuyseuwiaiei * $gewagwuumumiqagq); $mqokkqcioaiwqkyi = $mokouoooiwsmcmiu + $smowyuyseuwiaiei; $sqsqeescyauykqqs = dechex($mqokkqcioaiwqkyi); if (strlen($sqsqeescyauykqqs) < 2) { $sqsqeescyauykqqs = '0' . $sqsqeescyauykqqs; } $qoiwmokisgikggia .= $sqsqeescyauykqqs; } return $qoiwmokisgikggia; } public function ykywsqmweyaqgkeg($qoiwmokisgikggia) : bool { $sosyakcgakmeueii = str_replace('#', '', $qoiwmokisgikggia ?? ''); $qegaiyeogeiiwuyq = hexdec(substr($sosyakcgakmeueii, 0, 2)); $qsgqkuikgaskkkki = hexdec(substr($sosyakcgakmeueii, 2, 2)); $qeguggakoqiqqmey = hexdec(substr($sosyakcgakmeueii, 4, 2)); $eucyaaayuiqimgyq = ($qegaiyeogeiiwuyq * 299 + $qsgqkuikgaskkkki * 587 + $qeguggakoqiqqmey * 114) / 1000; return $eucyaaayuiqimgyq > 155; } public function ywqmqimiammceugm($qoiwmokisgikggia, string $eyqswciwsmmgqcca = '#000000', string $ywuqeqsekusaqiee = '#FFFFFF') : string { return $this->ykywsqmweyaqgkeg($qoiwmokisgikggia) ? $eyqswciwsmmgqcca : $ywuqeqsekusaqiee; } public function yeqiokwiscmoawqk(string $uusmaiomayssaecw, int $uuyoeicyoayimaoa = 10, int $msawoyuowyemsewo = 5) { $wosqmkoewekmkwiu = $this->caokeucsksukesyo()->issssuygyewuaswa()->mmscegoieayuaguo(); $qkummcmgucuaimua = "rate_limit_check_user_{$uusmaiomayssaecw}" . md5($wosqmkoewekmkwiu); $qkqgcaykemoiecma = $this->uwkmaywceaaaigwo()->giiuwsmyumqwwiyq(); $gaeqamemwmwsyukm = (int) $qkqgcaykemoiecma->igqksmmwesguiaae($qkummcmgucuaimua); if ($gaeqamemwmwsyukm >= $uuyoeicyoayimaoa) { return $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('To many request. please try again few minutes later.'), 429); } $qkqgcaykemoiecma->gawcqwcqgwgucgya($qkummcmgucuaimua, $gaeqamemwmwsyukm + 1, $msawoyuowyemsewo * MINUTE_IN_SECONDS); return true; } public function aysiqikiccgikgkc(array $cwiqececuoeacuaa, string $cmwygeyygwqaemaq) : string { foreach ($cwiqececuoeacuaa as [$eouekqmooogkoqoo, $oqcammciwimcumac]) { $scuukmeowggaqeea = (string) preg_replace($eouekqmooogkoqoo, $oqcammciwimcumac, $cmwygeyygwqaemaq); if ($scuukmeowggaqeea) { $cmwygeyygwqaemaq = $scuukmeowggaqeea; } } return $cmwygeyygwqaemaq; } }
